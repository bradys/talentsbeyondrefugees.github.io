"use strict";$(document).ready(function(){$(".parallax").parallax()}),angular.module("talentsbeyondrefugeesApp",["ngResource","ui.router","ngFileUpload"]).config(["$stateProvider","$urlRouterProvider",function(e,a){e.state("app",{url:"/",views:{header:{templateUrl:"views/header.html"},heading:{templateUrl:"views/heading.html"},form:{templateUrl:"views/form.html",controller:"FormCtrl"},"content@":{templateUrl:"views/main.html",controller:"MainCtrl"},social:{templateUrl:"views/social.html"},footer:{templateUrl:"views/footer.html"}}}).state("app.about",{url:"about/",views:{"content@":{templateUrl:"views/about.html",controller:"AboutCtrl"}}}),a.otherwise("/")}]),angular.module("talentsbeyondrefugeesApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("talentsbeyondrefugeesApp").controller("FormCtrl",["$scope","Upload","$timeout",function(e,a,r){e.cvFirstName="",e.cvLastName="",e.cvEmail="",e.cvTelephone="",e.datafile="",e.zipcode="",e.uploading=!1,e.progressPercentage=0,e.log="",e.progressPercentage="",e.isFeeback=!1,e.userFeedback="",e.userFeedbackColor="passState",e.submit=function(a,r){e.userFeedback="",e.f=a,e.errFile="",e.userFeedbackColor="passState",e.f=a,e.errFile=r&&r[0],""===e.cvFirstName||""===e.cvLastName||""!==e.errFile&&void 0!==e.errFile||(e.upload(a,r),e.uploading=!0),""!==e.cvFirstName&&""!==e.cvLastName||(e.userFeedbackColor="errorState",e.userFeedback="Please tell us your first and last name. "),""!==e.errFile&&void 0!==e.errFile&&(e.userFeedbackColor="errorState",e.userFeedback=e.userFeedback+" Please choose a CV smaller than "+e.errFile.$errorParam)},e.upload=function(t,o){console.log(JSON.stringify(t)),console.log(JSON.stringify(o[0])),e.datafile.$error||""!==e.zipcode||""===e.cvFirstName||""===e.cvLastName?""!==e.zipcode&&(e.progressPercentage=0,e.uploading=!1,e.cvFirstName="",e.cvLastName="",e.cvEmail="",e.cvTelephone="",e.datafile="",e.userFeedbackColor="passState",e.userFeedback="Thanks! We'll get back to you as soon as possible",r(function(){e.userFeedback=""},1e4)):a.upload({url:"http://aqueous-earth-55235.herokuapp.com/upload",data:{cvFirstName:e.cvFirstName,cvLastName:e.cvLastName,cvEmail:e.cvEmail,cvTelephone:e.cvTelephone,datafile:e.datafile}}).then(function(a){console.log("Success "+a.config.data+"uploaded. Response: "+a.data),e.progressPercentage=0,e.uploading=!1,e.cvFirstName="",e.cvLastName="",e.cvEmail="",e.cvTelephone="",e.datafile="",e.userFeedbackColor="passState",e.userFeedback="Thanks! We'll get back to you as soon as possible",r(function(){e.userFeedback=""},1e4)},function(a){console.log("Error status: "+a.status),e.progressPercentage=0,e.uploading=!1,e.cvFirstName="",e.cvLastName="",e.cvEmail="",e.cvTelephone="",e.datafile="",e.userFeedbackColor="errorState",e.userFeedback="There was a problem with your submission, please try again later",r(function(){e.userFeedback=""},1e4)},function(a){e.progressPercentage=parseInt(100*a.loaded/a.total),console.log("progress: "+e.progressPercentage+"% "+a.config.data)})}}]);